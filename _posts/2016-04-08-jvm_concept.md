---
layout: post
title: "JVM 浅谈"
date: 2016-04-08 12:35
categories: [java]
tags: [note]
---

###JVM 浅谈

一、 什么是JVM
> JVM是Java Virtual Machine（Java虚拟机）的缩写，JVM是一种用于计算设备的规范，它是一个虚构出来的计算机，是通过在实际的计算机上仿真模拟各种计算机功能来实现的。
> Java虚拟机包括一套字节码指令集、一组寄存器、一个栈、一个垃圾回收堆和一个存储方法域。 JVM屏蔽了与具体操作系统平台相关的信息，使Java程序只需生成在Java虚拟机上运行的目标代码（字节码）,就可以在多种平台上不加修改地运行。JVM在执行字节码时，实际上最终还是把字节码解释成具体平台上的机器指令执行。

二、 java内存区域
> java虚拟机在执行java程序的过程会把他所管理的内存划分为若干个不同的数据区域，这些区域都有各自的用途，以及创建时间和销毁时间，有些区域随着虚拟机进程的启动二存在，有些区域则依赖用户线程的启动和结束而创建和销毁。根据规范，java虚拟机所有管理的内存包括一下几个运行时数据区域。

1. 程序计数器
- 是什么：一块较小的内存空间，可以看作是当前线程所执行字节码的行号指示器。
- 用途：由于多线程宏观并行微观交替，因此，为了线程切换之后能恢复到之前正确的执行位置，每条线程都需要有一个独立的程序计数器来记录那些信息。
- 存什么 
 * 线程执行java方法，这个计数器记录线程正在执行的虚拟机字节码指令地址
 * 线程执行的是Native方法，这个计数器值为空（Undefined）
- 唯一一个在java虚拟机规范中没有规定任何OutOfMemoryError情况的区域。

2. java虚拟机栈


3. 本地方法区

4. java堆

5. 方法区

6. 运行时常量池

7. 直接内存
